<!doctype html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Calepinage de modules</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#f5f5f5">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="icon-192.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="card">
    <h1>Calepinage de modules</h1>
    <p>
      La somme des modules est toujours <strong>≤ longueur du mur</strong>.<br>
      Tu peux <strong>réordonner</strong> les modules (drag & drop),
      <strong>ajouter / supprimer</strong des modules par format,
      et <strong>sauvegarder / recharger</strong un projet.
    </p>
  </div>

  <div class="card">
    <h2>Paramètres</h2>

    <label for="wallLength">Longueur du mur (en mm)</label>
    <input id="wallLength" type="number" min="1" step="1" placeholder="ex : 3470">

    <label for="heightInput">Hauteur du meuble (en mm, optionnelle)</label>
    <input id="heightInput" type="number" min="1" step="1" placeholder="ex : 900">

    <label for="modulesInput">Largeurs de modules (en mm, séparées par des virgules)</label>
    <textarea id="modulesInput">200, 240, 320, 480, 640, 960, 1280</textarea>

    <div class="preset-buttons">
      <p class="preset-label">
        Presets de formats :
      </p>
      <button type="button" id="presetStd">Standard 200–1280</button>
      <button type="button" id="preset300">Gamme 300 / 450 / 600 / 900 / 1200</button>
    </div>

    <p class="hint">
      Tu peux mettre d’autres formats, par ex : <em>300, 450, 600, 900, 1200</em>.<br>
      L’algorithme propose une combinaison initiale optimale sans dépasser le mur.
    </p>

    <label for="targetTol">Tolérance cible max (jeu résiduel, ± mm, optionnelle)</label>
    <input id="targetTol" type="number" min="0" step="1" placeholder="ex : 20">

    <button id="computeBtn">Calculer la combinaison optimale</button>

    <div id="error" class="error"></div>
  </div>

  <div id="output" class="card" style="display:none;"></div>

  <!-- html2canvas pour export PNG -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
